## 蜂鸣器

​		在前面我们使用了 IO 口直接对LED灯进行了控制, 但对于蜂鸣器来说我们无法继续使用这一操作, 因为 51单片机的 IO 口的驱动能力较弱, 而蜂鸣器驱动需要约 30mA, 所以非常困难.

​		所以我们不直接使用 IO 口, 而是**通过三极管把电流放大后再进行驱动**, 这样51单片机就只需要提供不到 1mA 的电流就可以控制蜂鸣器.

​		所以我们常说 **51单片机是用来进行控制的, 不是用来驱动的.**

![QQ截图20211105102500](E:\markdown\51单片机\pics\QQ截图20211105102500.png)

​		从图中可以看出, 蜂鸣器控制管脚直接连接到 51 单片机的 P2.5 管脚上。图中并没有使用三极管进行电流放大, 而是使用 ULN2003 芯片来驱动.

​		**当 P25 输出高电平，BEEP 则输出低电平；当P25 输出低电平，BEEP 则输出高电平，类似一个非门。**

​		开发板上使用的是无源蜂鸣器，它**需要一定频率的脉冲（高低电平）才会发声**，因此需要让P25 脚以**一定频率不断输出高低电平信号**才能控制蜂鸣器发出声音。



#### 实验代码

```c
#include "reg52.h" 
typedef unsigned int u16; 
typedef unsigned char u8;

sbit BEEP = P2 ^ 5;

void main() {
    u16 i = 2000;
    while (1) {
        while (i--) {
            //产生一定频率的脉冲信号
            BEEP = !BEEP;
            //调整不同的延时时间可以得到不同的音色
            delay_10us(100);
        }
        i = 0;
        BEEP = 0;
    }
}
```

​		其中, 分别通过改变高低电平的持续时间可以调节声音大小.



#### 实验现象

​		可以听到开发板上蜂鸣器发出的声音，一段时间后关闭。